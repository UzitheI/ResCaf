{% extends 'home_folder/base.html' %}
{% load static %}
{% load bootstrap5 %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% bootstrap_css %}
    {% bootstrap_javascript %}
</head>
<body>
    {% block content %}
    <div class="container-fluid py-5">
        <!-- Tables Section -->
        <div class="row d-flex justify-content-center">
            <div class="col-md-10 col-xl-8 text-center">
                <h3 class="fw-bold mb-4">Tables</h3>
                <p class="mb-4 pb-2 mb-md-5 pb-md-0">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit, error amet
                    numquam iure provident voluptate esse quasi, veritatis totam voluptas nostrum
                    quisquam eum porro a pariatur veniam.
                </p>
            </div>
        </div>
        <div class="row">
            {% for table in tables %}
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body py-4 mt-2">
                        <div class="card-body">
                            <h5 class="card-title">Table No: {{ table.table_number }}</h5>
                            <a href="#" class="btn btn-primary">{{ table.table_price }}</a>
                        </div>
                    </div>
                    <p class="mb-2">
                        <i class="fas fa-quote-left pe-2"></i>{{ table.table_description }}
                    </p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Reservations Section -->
    <div class="container-fluid py-5">
        <div class="row d-flex justify-content-center">
            <div class="col-md-10 col-xl-8 text-center">
                <h3 class="fw-bold mb-4">Reservations</h3>
                <p class="mb-4 pb-2 mb-md-5 pb-md-0">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit, error amet
                    numquam iure provident voluptate esse quasi, veritatis totam voluptas nostrum
                    quisquam eum porro a pariatur veniam.
                </p>
            </div>
        </div>
        <div class="row">
            {% for booking in bookings %}
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body py-4 mt-2">
                        <div class="card-body">
                            <h2 class="card-title">Table No: {{ booking.table.table_number }}</h2>
                            <h3 class="card-title">{{ booking.name }}</h3>
                            <h4 class="card-title">{{ booking.dateOfBooking }}</h4>
                            <p>Party Size: {{ booking.numberOfPeople }}</p>
                            <a href="{% url 'reservationUpdate' booking.id %}" class="btn btn-primary">Update</a>
                            <a href="{% url 'reservationDelete' booking.id %}" class="btn btn-primary">Delete</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
        <!-- Reservation Form Section -->
        <div class="container-fluid py-5">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="row d-flex justify-content-center">
                        <div class="col-md-10 col-xl-8 text-center">
                            <h3 class="fw-bold mb-4">Reservations Form</h3>
                            <p class="mb-4 pb-2 mb-md-5 pb-md-0">
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit, error amet
                                numquam iure provident voluptate esse quasi, veritatis totam voluptas nostrum
                                quisquam eum porro a pariatur veniam.
                            </p>
                        </div>
                    </div>
                    <form class="form-horizontal" method="post">{% csrf_token %}
                        <fieldset>
                            <legend>{{ title }}</legend>
                            {% for field in form %}
                                {% if field.errors %}
                                    <div class="control-group error">
                                        <label class="control-label">{{ field.label }}</label> 
                                        <div class="controls">{{ field }}
                                            <span class="help-inline">
                                                {% for error in  field.errors %}{{ error }}{% endfor %}
                                            </span>
                                        </div>
                                    </div>
                                {% else %}
                                    <div class="control-group">
                                        <label class="control-label">{{ field.label }}</label> 
                                        <div class="controls">{{ field }}
                                            {% if field.help_text %}
                                                <p class="help-inline"><small>{{ field.help_text }}</small></p>
                                            {% endif %}
                                        </div>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </fieldset>
                        <div class="form-actions text-center">
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    {% endblock %}
</body>
</html>